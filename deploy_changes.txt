# Place yourself in the code branch
git checkout code

# Make all the modifications

# Generate the static pages in public/
hugo

# Switch to the master branch
git checkout master

# Clone public/ to ./
rsync -r --exclude='.git/' --exclude='public/' --delete-after public/ ./

# Add modifications
git add --all
git reset -- public/

# commit your changes and push
git commit -m "My commit message"
git push origin master

